(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{86:function(t,e,n){t.exports={searchField:"FormInput_searchField__1vQV9"}},87:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(34);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,c=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(i){a=!0,c=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw c}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},88:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(18),a=n(24),c=(n(0),n(86)),o=n.n(c),u=n(1),i=function(t){var e=t.classname,n=Object(a.a)(t,["classname"]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",Object(r.a)({className:"".concat(o.a.searchField," ").concat(e)},n))})};i.defaultProps={required:!1,placeholder:"",name:"",className:"",type:"text",value:"",onChange:function(){}};var s=i},92:function(t,e,n){t.exports={form:"ContactFrom_form__16Sb7",formInput:"ContactFrom_formInput__2TK3S",formField:"ContactFrom_formField__2RJ7L",errorMessage:"ContactFrom_errorMessage__2kHLo"}},93:function(t,e,n){t.exports={inputField:"Filter_inputField__2-stO",input:"Filter_input__1FdOO"}},94:function(t,e,n){t.exports={contactListItem:"ContactListItem_contactListItem__Vjiud",btn:"ContactListItem_btn__1KOmA"}},97:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return X}));var r=n(0),a=n(8),c=n(3),o=n(18),u=n(87),i=n(19),s=n.n(i),f=n(10),l=f.a.fetchContactsRequest,d=f.a.fetchContactsSuccess,b=f.a.fetchContactsError,m=f.a.addContactRequest,j=f.a.addContactSuccess,h=f.a.addContactError,p=f.a.deleteContactRequest,O=f.a.deleteContactSuccess,v=f.a.deleteContactError;s.a.defaults.baseURL="https://connections-api.herokuapp.com";var y,x=function(){return function(t){t(l()),s.a.get("/contacts").then((function(e){var n=e.data;return t(d(n))})).catch((function(e){return t(b(e.message))}))}},g=function(t,e){return function(n){var r={name:t,number:e};n(m()),s.a.post("/contacts",r).then((function(t){var e=t.data;return n(j(e))})).catch((function(t){return n(h(t.message))}))}},C=function(t){return function(e){e(p()),s.a.delete("/contacts/".concat(t)).then((function(){return e(O(t))})).catch((function(t){return e(v(t.message))}))}},_=n(88),F={type:"text",value:"",name:"name",required:!0},k={type:"text",value:"",name:"number",required:!0},w={name:"",number:""},S=new Uint8Array(16);function I(){if(!y&&!(y="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(S)}var L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var N=function(t){return"string"===typeof t&&L.test(t)},R=[],E=0;E<256;++E)R.push((E+256).toString(16).substr(1));var V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(R[t[e+0]]+R[t[e+1]]+R[t[e+2]]+R[t[e+3]]+"-"+R[t[e+4]]+R[t[e+5]]+"-"+R[t[e+6]]+R[t[e+7]]+"-"+R[t[e+8]]+R[t[e+9]]+"-"+R[t[e+10]]+R[t[e+11]]+R[t[e+12]]+R[t[e+13]]+R[t[e+14]]+R[t[e+15]]).toLowerCase();if(!N(n))throw TypeError("Stringified UUID is invalid");return n};var q=function(t,e,n){var r=(t=t||{}).random||(t.rng||I)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return V(r)},A=n(92),U=n.n(A),D=n(1),J=function(){var t=Object(r.useState)(w),e=Object(u.a)(t,2),n=e[0],i=e[1],s=Object(a.d)(),f=function(t){var e=t.target,r=e.name,a=e.value;i(Object(o.a)(Object(o.a)({},n),{},Object(c.a)({},r,a)))},l=Object(a.e)((function(t){return t.phonebook.contacts}),a.c),d=function(){i(w)},b=q(),m=q();return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("form",{className:U.a.form,onSubmit:function(t){t.preventDefault();var e=n.name,r=n.number;if(!l.find((function(t){return t.name===e||t.number===r})))return s(g(e,r)),void d();alert("".concat(e," is already in contacts")),d()},children:[Object(D.jsxs)("div",{className:U.a.formInput,children:[Object(D.jsx)("label",{htmlFor:b,children:"Name"}),Object(D.jsx)(_.a,Object(o.a)(Object(o.a)({onChange:f},F),{},{value:n.name,className:U.a.formField})),Object(D.jsx)("label",{htmlFor:m,children:"Number"}),Object(D.jsx)(_.a,Object(o.a)(Object(o.a)({onChange:f},k),{},{value:n.number,className:U.a.formField}))]}),Object(D.jsx)("button",{type:"submit",children:"Add contact"})]})})},P=n(93),T=n.n(P),K=function(){var t=Object(a.e)((function(t){return t.phonebook.filter}),a.c),e=Object(a.d)(),n=q();return Object(D.jsxs)("div",{className:T.a.inputField,children:[Object(D.jsx)("label",{htmlFor:n,children:"Find contacts by name"}),Object(D.jsx)("input",{className:T.a.input,id:n,type:"text",value:t,onChange:function(t){return e(f.a.filterContacts(t.target.value))}})]})};K.defaultProps={filter:"",onChange:function(){}};var M=K,H=n(24),Q=n(94),$=n.n(Q),z=function(t){var e=t.name,n=t.number,r=t.onClick;return Object(D.jsxs)("li",{className:$.a.contactListItem,children:[Object(D.jsxs)("p",{children:[e,": ",n]}),Object(D.jsx)("button",{className:$.a.btn,type:"button",onClick:r,children:"Delete"})]})},B=n(27),G=Object(B.a)([function(t){return t.phonebook.filter},function(t){return t.phonebook.contacts}],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))})),W=function(){var t=Object(a.d)(),e=Object(a.e)((function(t){return G(t)}),a.c).map((function(e){var n=e.id,r=Object(H.a)(e,["id"]);return Object(D.jsx)(z,Object(o.a)(Object(o.a)({},r),{},{onClick:function(){return t(C(n))}}),n)}));return Object(D.jsx)("ul",{children:e})},X=function(){var t=Object(a.e)((function(t){return t.phonebook.loading}),a.c),e=Object(a.d)();return Object(r.useEffect)((function(){e(x())}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:"Phonebook"}),Object(D.jsx)(J,{}),Object(D.jsx)("h2",{children:"Contacts"}),Object(D.jsx)(M,{}),t&&Object(D.jsx)("h1",{children:"...Loading"}),Object(D.jsx)(W,{})]})}}}]);
//# sourceMappingURL=3.a6c9cdc4.chunk.js.map